{"version":3,"file":"HMSAnalytics.js","sourceRoot":"","sources":["../scripts/HMSAnalytics.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\nCopyright 2020. Huawei Technologies Co., Ltd. All rights reserved.\r\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\r\n   you may not use this file except in compliance with the License.\r\n   You may obtain a copy of the License at\r\n\r\n     http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n   Unless required by applicable law or agreed to in writing, software\r\n   distributed under the License is distributed on an \"AS IS\" BASIS,\r\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n   See the License for the specific language governing permissions and\r\n   limitations under the License.\r\n*/\r\n\r\nimport { exec } from 'cordova';\r\n\r\nclass HMSAnalyticsAPI {\r\n    HAParamType = HAParamType;\r\n    HAEventType = HAEventType;\r\n\r\n    asyncExecute(action: string, param: any): Promise<any> {\r\n        return new Promise((resolve, reject) => {\r\n            exec(resolve, reject, 'cordova-plugin-hms-analytics', action, (param === undefined || param === null) ? [{}] : [param]);\r\n        });\r\n    }\r\n\r\n    enableLog(): Promise<void> {\r\n        return this.asyncExecute('ACTION_ENABLE_LOG', {});\r\n    }\r\n\r\n    enableLogWithLevel(logLevel: Level): Promise<void> {\r\n        if (!(logLevel === 'DEBUG' || logLevel === 'INFO' || logLevel === 'WARN' || logLevel === 'ERROR')) {\r\n            throw 'Invalid argument. Possible logLevels : DEBUG, INFO, WARN, ERROR';\r\n        }\r\n\r\n        return this.asyncExecute('ACTION_ENABLE_LOG_WITH_LEVEL', { logLevel });\r\n    }\r\n\r\n    setUserId(userId: string): Promise<void> {\r\n        return this.asyncExecute('ACTION_SET_USER_ID', { userId });\r\n    }\r\n\r\n\r\n    setUserProfile(name: string, value: string): Promise<void> {\r\n        return this.asyncExecute('ACTION_SET_USER_PROFILE', { key: name, value: value });\r\n    }\r\n\r\n    setPushToken(token: string): Promise<any> {\r\n        return this.asyncExecute('ACTION_SET_PUSH_TOKEN', { token });\r\n    }\r\n\r\n    setMinActivitySessions(interval: number): Promise<void> {\r\n        return this.asyncExecute('ACTION_SET_MIN_ACTIVITY_SESSIONS', { interval });\r\n    }\r\n\r\n    setSessionDuration(duration: number): Promise<void> {\r\n        return this.asyncExecute('ACTION_SET_SESSION_DURATION', { duration });\r\n    }\r\n\r\n    setCurrentActivity(activityName: string, screenClassOverride: string): Promise<void> {\r\n        return this.asyncExecute('ACTION_SET_CURRENT_ACTIVITY', { activityName, screenClassOverride });\r\n    }\r\n\r\n    onEvent(key: HAEventType | string, value: HAParamType | Params): Promise<void> {\r\n        return this.asyncExecute('ACTION_SEND_EVENT', { key, value });\r\n    }\r\n\r\n    clearCachedData(): Promise<void> {\r\n        return this.asyncExecute('ACTION_CLEAR_CACHED_DATA', {});\r\n    }\r\n\r\n    getAAID(): Promise<string> {\r\n        return this.asyncExecute('ACTION_GET_AAID', {});\r\n    }\r\n\r\n    getUserProfiles(predefined: boolean): Promise<Params | Profiles> {\r\n        return this.asyncExecute('ACTION_GET_USER_PROFILES', { predefined });\r\n    }\r\n}\r\n\r\ninterface Profiles {\r\n    \"_sys_language\": string;\r\n    \"_app_ver\": string;\r\n    \"_model\": string;\r\n    \"_os_ver\": string;\r\n    \"_manufacturer\": string;\r\n}\r\n\r\ninterface Params {\r\n    [key: string]: string;\r\n}\r\n\r\ntype Level = \"DEBUG\" | \"INFO\" | \"WARN\" | \"ERROR\";\r\n\r\nenum HAEventType {\r\n    CREATEPAYMENTINFO = \"$CreatePaymentInfo\",\r\n    ADDPRODUCT2CART = \"$AddProduct2Cart\",\r\n    ADDPRODUCT2WISHLIST = \"$AddProduct2WishList\",\r\n    STARTAPP = \"$StartApp\",\r\n    STARTCHECKOUT = \"$StartCheckout\",\r\n    VIEWCAMPAIGN = \"$ViewCampaign\",\r\n    VIEWCHECKOUTSTEP = \"$ViewCheckoutStep\",\r\n    WINVIRTUALCOIN = \"$WinVirtualCoin\",\r\n    COMPLETEPURCHASE = \"$CompletePurchase\",\r\n    OBTAINLEADS = \"$ObtainLeads\",\r\n    JOINUSERGROUP = \"$JoinUserGroup\",\r\n    COMPLETELEVEL = \"$CompleteLevel\",\r\n    STARTLEVEL = \"$StartLevel\",\r\n    UPGRADELEVEL = \"$UpgradeLevel\",\r\n    SIGNIN = \"$SignIn\",\r\n    SUBMITSCORE = \"$SubmitScore\",\r\n    CREATEORDER = \"$CreateOrder\",\r\n    REFUNDORDER = \"$RefundOrder\",\r\n    DELPRODUCTFROMCART = \"$DelProductFromCart\",\r\n    SEARCH = \"$Search\",\r\n    VIEWCONTENT = \"$ViewContent\",\r\n    UPDATECHECKOUTOPTION = \"$UpdateCheckoutOption\",\r\n    SHARECONTENT = \"$ShareContent\",\r\n    REGISTERACCOUNT = \"$RegisterAccount\",\r\n    CONSUMEVIRTUALCOIN = \"$ConsumeVirtualCoin\",\r\n    STARTTUTORIAL = \"$StartTutorial\",\r\n    COMPLETETUTORIAL = \"$CompleteTutorial\",\r\n    OBTAINACHIEVEMENT = \"$ObtainAchievement\",\r\n    VIEWPRODUCT = \"$ViewProduct\",\r\n    VIEWPRODUCTLIST = \"$ViewProductList\",\r\n    VIEWSEARCHRESULT = \"$ViewSearchResult\"\r\n}\r\n\r\nenum HAParamType {\r\n    STORENAME = \"$StoreName\",\r\n    BRAND = \"$Brand\",\r\n    CATEGORY = \"$Category\",\r\n    PRODUCTID = \"$ProductId\",\r\n    PRODUCTNAME = \"$ProductName\",\r\n    PRODUCTFEATURE = \"$ProductFeature\",\r\n    PRICE = \"$Price\",\r\n    QUANTITY = \"$Quantity\",\r\n    REVENUE = \"$Revenue\",\r\n    CURRNAME = \"$CurrName\",\r\n    PLACEID = \"$PlaceId\",\r\n    DESTINATION = \"$Destination\",\r\n    ENDDATE = \"$EndDate\",\r\n    BOOKINGDAYS = \"$BookingDays\",\r\n    PASSENGERSNUMBER = \"$PassengersNumber\",\r\n    BOOKINGROOMS = \"$BookingRooms\",\r\n    ORIGINATINGPLACE = \"$OriginatingPlace\",\r\n    BEGINDATE = \"$BeginDate\",\r\n    TRANSACTIONID = \"$TransactionId\",\r\n    CLASS = \"$Class\",\r\n    CLICKID = \"$ClickId\",\r\n    PROMOTIONNAME = \"$PromotionName\",\r\n    CONTENT = \"$Content\",\r\n    EXTENDPARAM = \"$ExtendParam\",\r\n    MATERIALNAME = \"$MaterialName\",\r\n    MATERIALSLOT = \"$MaterialSlot\",\r\n    MEDIUM = \"$Medium\",\r\n    SOURCE = \"$Source\",\r\n    KEYWORDS = \"$Keywords\",\r\n    OPTION = \"$Option\",\r\n    STEP = \"$Step\",\r\n    VIRTUALCURRNAME = \"$VirtualCurrName\",\r\n    VOUCHER = \"$Voucher\",\r\n    PLACE = \"$Place\",\r\n    SHIPPING = \"$Shipping\",\r\n    TAXFEE = \"$TaxFee\",\r\n    USERGROUPID = \"$UserGroupId\",\r\n    LEVELNAME = \"$LevelName\",\r\n    RESULT = \"$Result\",\r\n    ROLENAME = \"$RoleName\",\r\n    LEVELID = \"$LevelId\",\r\n    CHANNEL = \"$Channel\",\r\n    SCORE = \"$Score\",\r\n    SEARCHKEYWORDS = \"$SearchKeywords\",\r\n    CONTENTTYPE = \"$ContentType\",\r\n    ACHIEVEMENTID = \"$AchievementId\",\r\n    FLIGHTNO = \"$FlightNo\",\r\n    POSITIONID = \"$PositionId\",\r\n    PRODUCTLIST = \"$ProductList\",\r\n}\r\n\r\nexport = new HMSAnalyticsAPI();\r\n"]}